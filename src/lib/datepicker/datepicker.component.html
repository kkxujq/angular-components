<section class="gt-date gt-dropdown-wrap--open" [class.gt-dropdown-wrap--open]="isOpened">
  <input type="text" class="gt-form-control" readonly placeholder="选择日期" [(ngModel)]="displayValue"
         [class.gt--focus]="isOpened" (click)="toggle()"/>
  <div class="gt-date__container">
    <section class="gt-date__hd">
      <a class="gt-date__btn-left" (click)="prevMonth()"><i class="gt-icon icon-arrow-left"></i></a>
      <span class="gt-date__hd-center" (click)="toggleView()">{{barTitle}}</span>
      <a class="gt-date__hd-short" (click)="goToday()">今天</a>
      <a class="gt-date__btn-right" (click)="nextMonth()"><i class="gt-icon icon-arrow-right"></i></a>
    </section>
    <section class="gt-date__bd" *ngIf="view === 'days'">
      <table class="gt-date__table">
        <thead>
        <tr>
          <td *ngFor="let weekdayName of weekdayNames">{{weekdayName}}</td>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let rowDays of days">
          <td *ngFor="let day of rowDays">
            <span class="gt-date__date"
                  [ngClass]="{'gt-date--today': day.isToday, 'gt-date--no-cur': !day.inThisMonth, 'gt--sel': day.isSelected, 'gt-date__not-allowed': !day.isSelectable}"
                  (click)="day.isSelectable && setDate(day.date)">{{day.day}}</span>
          </td>
        </tr>
        </tbody>
      </table>
    </section>
    <section class="gt-date__bd" *ngIf="view === 'years'">
      <div class="gt-date_years">
        <p class="year" *ngFor="let year of years; let i = index" [class.gt-date--thisYear]="year.isThisYear" (click)="setYear(year.year)">{{year.year}}</p>
      </div>
    </section>
    <section class="gt-date__bd" *ngIf="view === 'months'">
      <div class="gt-date_years">
        <p class="year" *ngFor="let month of months; let i = index" [class.gt-date--thisMonth]="month.isThisMonth" (click)="setMonth(month.month)">{{month.month + 1}}</p>
      </div>
    </section>
  </div>
</section>

